webpackJsonp([60],{Vx67:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l={data:function(){return{visible:!1,dataForm:{handleId:0,alarmId:"",handlePerson:"",handleTime:"",handleMethod:"",handleResult:""},dataRule:{alarmId:[{required:!0,message:"被处理的报警id（外键）不能为空",trigger:"blur"}],handlePerson:[{required:!0,message:"处置人不能为空",trigger:"blur"}],handleTime:[{required:!0,message:"处置时间不能为空",trigger:"blur"}],handleMethod:[{required:!0,message:"处置方法不能为空",trigger:"blur"}],handleResult:[{required:!0,message:"处理结果描述不能为空",trigger:"blur"}]}}},methods:{init:function(e){var a=this;this.dataForm.handleId=e||0,this.visible=!0,this.$nextTick(function(){a.$refs.dataForm.resetFields(),a.dataForm.handleId&&a.$http({url:a.$http.adornUrl("/ala/handlelog/info/"+a.dataForm.handleId),method:"get",params:a.$http.adornParams()}).then(function(e){var t=e.data;t&&0===t.code&&(a.dataForm.alarmId=t.handleLog.alarmId,a.dataForm.handlePerson=t.handleLog.handlePerson,a.dataForm.handleTime=t.handleLog.handleTime,a.dataForm.handleMethod=t.handleLog.handleMethod,a.dataForm.handleResult=t.handleLog.handleResult)})})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(a){a&&e.$http({url:e.$http.adornUrl("/ala/handlelog/"+(e.dataForm.handleId?"update":"save")),method:"post",data:e.$http.adornData({handleId:e.dataForm.handleId||void 0,alarmId:e.dataForm.alarmId,handlePerson:e.dataForm.handlePerson,handleTime:e.dataForm.handleTime,handleMethod:e.dataForm.handleMethod,handleResult:e.dataForm.handleResult})}).then(function(a){var t=a.data;t&&0===t.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(t.msg)})})}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(a){e.visible=a}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.dataFormSubmit()}}},[t("el-form-item",{attrs:{label:"被处理的报警id（外键）",prop:"alarmId"}},[t("el-input",{attrs:{placeholder:"被处理的报警id（外键）"},model:{value:e.dataForm.alarmId,callback:function(a){e.$set(e.dataForm,"alarmId",a)},expression:"dataForm.alarmId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"处置人",prop:"handlePerson"}},[t("el-input",{attrs:{placeholder:"处置人"},model:{value:e.dataForm.handlePerson,callback:function(a){e.$set(e.dataForm,"handlePerson",a)},expression:"dataForm.handlePerson"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"处置时间",prop:"handleTime"}},[t("el-input",{attrs:{placeholder:"处置时间"},model:{value:e.dataForm.handleTime,callback:function(a){e.$set(e.dataForm,"handleTime",a)},expression:"dataForm.handleTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"处置方法",prop:"handleMethod"}},[t("el-input",{attrs:{placeholder:"处置方法"},model:{value:e.dataForm.handleMethod,callback:function(a){e.$set(e.dataForm,"handleMethod",a)},expression:"dataForm.handleMethod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"处理结果描述",prop:"handleResult"}},[t("el-input",{attrs:{placeholder:"处理结果描述"},model:{value:e.dataForm.handleResult,callback:function(a){e.$set(e.dataForm,"handleResult",a)},expression:"dataForm.handleResult"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.visible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},r=t("VU/8")(l,d,!1,null,null,null);a.default=r.exports}});